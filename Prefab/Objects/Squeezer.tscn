[gd_scene load_steps=11 format=3 uid="uid://sp5jyi3scac2"]

[ext_resource type="Script" path="res://Scripts/squeezer.gd" id="1_ccylf"]
[ext_resource type="Texture2D" uid="uid://c7jtcskdtvbdx" path="res://Assets/Tileset/Tileset32/Objects/prensa.png" id="1_rr6q0"]
[ext_resource type="Script" path="res://Scripts/objetct_impact.gd" id="2_e346f"]
[ext_resource type="Script" path="res://Scripts/shake_area.gd" id="4_krsth"]
[ext_resource type="Texture2D" uid="uid://ktrdet0htil" path="res://Assets/Tileset/Tileset32/Objects/squeezer_base.png" id="4_prest"]
[ext_resource type="AudioStream" uid="uid://dnea55pbu0c6t" path="res://Assets/Audio/SFX/prensa.mp3" id="6_4naqh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o4r1j"]
size = Vector2(14, 115)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_flpug"]
size = Vector2(36, 13)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ahssq"]
size = Vector2(32, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lo8h6"]
size = Vector2(224, 224)

[node name="Squeezer" type="Node2D"]
script = ExtResource("1_ccylf")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="Prensser" type="Sprite2D" parent="StaticBody2D"]
z_index = -1
position = Vector2(0, -48)
texture = ExtResource("1_rr6q0")
region_rect = Rect2(32, 0, 64, 96)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(0, -54.5)
shape = SubResource("RectangleShape2D_o4r1j")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(0, 9.5)
shape = SubResource("RectangleShape2D_flpug")

[node name="ImpactArea" type="Area2D" parent="StaticBody2D"]
script = ExtResource("2_e346f")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D/ImpactArea"]
position = Vector2(0, 16)
shape = SubResource("RectangleShape2D_ahssq")
debug_color = Color(0.956227, 0, 0.539048, 0.42)

[node name="ShakeArea" type="Area2D" parent="StaticBody2D"]
script = ExtResource("4_krsth")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D/ShakeArea"]
shape = SubResource("RectangleShape2D_lo8h6")
debug_color = Color(0.720747, 0.479373, 0, 0.42)

[node name="Dispenser" type="Sprite2D" parent="."]
position = Vector2(0, -16)
texture = ExtResource("4_prest")
region_rect = Rect2(0, 32, 32, 32)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_4naqh")
volume_db = -5.0
attenuation = 15.0
bus = &"SFX"

[connection signal="body_entered" from="StaticBody2D/ImpactArea" to="StaticBody2D/ImpactArea" method="_on_body_entered"]
[connection signal="body_entered" from="StaticBody2D/ShakeArea" to="StaticBody2D/ShakeArea" method="_on_body_entered"]
[connection signal="body_exited" from="StaticBody2D/ShakeArea" to="StaticBody2D/ShakeArea" method="_on_body_exited"]
